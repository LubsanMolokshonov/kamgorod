# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Æ–ö–∞—Å—Å—ã

## üéØ –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º

- [x] –í—Å–µ —Ñ–∞–π–ª—ã —Å–æ–∑–¥–∞–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ
- [x] –ë–æ–µ–≤—ã–µ –∫–ª—é—á–∏ –Æ–ö–∞—Å—Å—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ .env
- [ ] SMTP –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ .env
- [ ] –§–∞–π–ª—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –î–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞–Ω—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- [ ] Webhook –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –Æ–ö–∞—Å—Å–µ
- [ ] –ü—Ä–æ–≤–µ–¥–µ–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

## üì§ –®–∞–≥ 1: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

### –í–∞—Ä–∏–∞–Ω—Ç A: –ß–µ—Ä–µ–∑ SFTP/SCP (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ FileZilla, Cyberduck –∏–ª–∏ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:

```bash
# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
Server: 141.105.69.45
Username: root
Password: 1uf_d7C23o
Port: 22

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Ñ–∞–π–ª—ã:
- classes/Order.php
- includes/email-helper.php
- ajax/create-payment.php (–∑–∞–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
- pages/payment-success.php
- pages/payment-failure.php
- api/webhook/yookassa.php
- api/check-payment.php
- .env (–∑–∞–º–µ–Ω–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π, –ù–û –°–ù–ê–ß–ê–õ–ê –ù–ê–°–¢–†–û–ô–¢–ï SMTP!)
```

### –í–∞—Ä–∏–∞–Ω—Ç B: –ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É (SCP)

```bash
# –ò–∑ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ –≤–∞—à–µ–º Mac
cd "/Users/LubsanMoloksonov1/Desktop/–ü–µ–¥–ø–æ—Ä—Ç–∞–ª –∫–∞–º–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥"

# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã (–∑–∞–º–µ–Ω–∏—Ç–µ /path/to/project –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –ø—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ)
scp classes/Order.php root@141.105.69.45:/path/to/project/classes/
scp includes/email-helper.php root@141.105.69.45:/path/to/project/includes/
scp ajax/create-payment.php root@141.105.69.45:/path/to/project/ajax/
scp pages/payment-success.php root@141.105.69.45:/path/to/project/pages/
scp pages/payment-failure.php root@141.105.69.45:/path/to/project/pages/
scp -r api root@141.105.69.45:/path/to/project/

# .env –∑–∞–≥—Ä—É–∂–∞–π—Ç–µ –ü–û–°–õ–ï –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP!
```

## üîß –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É:

```bash
ssh root@141.105.69.45
# –ü–∞—Ä–æ–ª—å: 1uf_d7C23o
```

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /var/www/html  # –∏–ª–∏ –¥—Ä—É–≥–æ–π –ø—É—Ç—å –∫ –ø—Ä–æ–µ–∫—Ç—É

# 2. –°–æ–∑–¥–∞–π—Ç–µ –±—ç–∫–∞–ø (–Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π)
tar -czf backup_$(date +%Y%m%d_%H%M%S).tar.gz ajax/create-payment.php .env

# 3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
mkdir -p api/webhook
mkdir -p logs

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
chmod 755 api
chmod 755 api/webhook
chmod 644 api/webhook/yookassa.php
chmod 644 api/check-payment.php
chmod 644 ajax/create-payment.php
chmod 644 classes/Order.php
chmod 644 includes/email-helper.php
chmod 644 pages/payment-success.php
chmod 644 pages/payment-failure.php
chmod 777 logs
chmod 600 .env

# 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ
ls -la classes/Order.php
ls -la api/webhook/yookassa.php
ls -la logs/
```

## üìß –®–∞–≥ 3: –ö–†–ò–¢–ò–ß–ù–û - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SMTP

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
nano .env
```

–û–±–Ω–æ–≤–∏—Ç–µ —Å–µ–∫—Ü–∏—é SMTP:

```bash
# Email SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=–≤–∞—à_—Ä–µ–∞–ª—å–Ω—ã–π_email@gmail.com
SMTP_PASSWORD=–≤–∞—à_app_password_–∑–¥–µ—Å—å
SMTP_FROM_EMAIL=noreply@–≤–∞—à-–¥–æ–º–µ–Ω.ru
SMTP_FROM_NAME=–ö–∞–º–µ–Ω–Ω—ã–π –≥–æ—Ä–æ–¥
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ App Password –¥–ª—è Gmail:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: https://myaccount.google.com/apppasswords
2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç Gmail
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π App Password
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ 16-–∑–Ω–∞—á–Ω—ã–π –ø–∞—Ä–æ–ª—å (–±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ–≥–æ –≤ SMTP_PASSWORD

**–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ** (Ctrl+O, Enter, Ctrl+X)

## üîó –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ webhook –≤ –Æ–ö–∞—Å—Å–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ: https://yookassa.ru/my
2. –í–æ–π–¥–∏—Ç–µ —Å shopId: **1253458**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è ‚Üí HTTP-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**
4. –£–∫–∞–∂–∏—Ç–µ URL: `https://141.105.69.45/api/webhook/yookassa.php`
5. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–±—ã—Ç–∏—è:
   - ‚úÖ `payment.succeeded`
   - ‚úÖ `payment.canceled`
   - ‚úÖ `payment.waiting_for_capture`
   - ‚úÖ `refund.succeeded`
6. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ**

## üß™ –®–∞–≥ 5: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ webhook

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏–ª–∏ —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
curl -X POST https://141.105.69.45/api/webhook/yookassa.php

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 403 Forbidden (—ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ, IP –Ω–µ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π)
# –ü–ª–æ—Ö–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 404 Not Found (–∑–Ω–∞—á–∏—Ç —Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω)
```

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ API check-payment

```bash
curl https://141.105.69.45/api/check-payment.php?order_number=test

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: {"success":false,"error":"Order not found"}
# –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ API —Ä–∞–±–æ—Ç–∞–µ—Ç
```

### –¢–µ—Å—Ç 3: –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂ (–ú–ò–ù–ò–ú–ê–õ–¨–ù–ê–Ø –°–£–ú–ú–ê!)

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–∞–π—Ç: https://141.105.69.45
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ –∫–æ–Ω–∫—É—Ä—Å (–≤—ã–±–µ—Ä–∏—Ç–µ —Å–∞–º—ã–π –¥–µ—à–µ–≤—ã–π)
3. –î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ—Ä–∑–∏–Ω—É (–ª—É—á—à–µ 3 —à—Ç –¥–ª—è –∞–∫—Ü–∏–∏ 2+1)
4. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –∫ –æ–ø–ª–∞—Ç–µ
5. –ù–∞–∂–º–∏—Ç–µ "–û–ø–ª–∞—Ç–∏—Ç—å"

**–û–∂–∏–¥–∞–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞–µ—Ç—Å—è –∑–∞–∫–∞–∑ –≤ –ë–î
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Æ–ö–∞—Å—Å—ã
- –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ payment-success.php
- Webhook –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–ª–∞—Ç–µ–∂
- Email –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ –ø–æ—á—Ç—É
- –°—Ç–∞—Ç—É—Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ = 'paid'

### –¢–µ—Å—Ç 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
tail -f logs/payment.log    # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–∏—Å—å –æ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–ª–∞—Ç–µ–∂–∞
tail -f logs/webhook.log    # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–∏—Å—å –æ –ø–æ–ª—É—á–µ–Ω–∏–∏ webhook
tail -f logs/email.log      # –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–∏—Å—å –æ–± –æ—Ç–ø—Ä–∞–≤–∫–µ email
tail -f logs/error.log      # –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫
```

### –¢–µ—Å—Ç 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î

```bash
# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ MySQL
mysql -u pedagogy_user -p pedagogy_platform

# –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã
SELECT * FROM orders ORDER BY created_at DESC LIMIT 1;
SELECT * FROM order_items WHERE order_id = (SELECT id FROM orders ORDER BY created_at DESC LIMIT 1);
SELECT * FROM registrations WHERE id IN (SELECT registration_id FROM order_items WHERE order_id = (SELECT id FROM orders ORDER BY created_at DESC LIMIT 1));

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ:
# - orders.payment_status = 'succeeded'
# - registrations.status = 'paid'
```

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü–µ—Ä–≤—ã–µ 24 —á–∞—Å–∞:

```bash
# –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –∫–∞–∂–¥—ã–µ 2-3 —á–∞—Å–∞
tail -50 logs/payment.log
tail -50 logs/webhook.log
tail -50 logs/error.log
```

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

```sql
-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –ø–ª–∞—Ç–µ–∂–∞–º
SELECT payment_status, COUNT(*) as count, SUM(final_amount) as total
FROM orders
GROUP BY payment_status;

-- –ö–æ–Ω–≤–µ—Ä—Å–∏—è –ø–ª–∞—Ç–µ–∂–µ–π (–∑–∞ —Å–µ–≥–æ–¥–Ω—è)
SELECT
    COUNT(*) as total_orders,
    SUM(CASE WHEN payment_status = 'succeeded' THEN 1 ELSE 0 END) as succeeded,
    SUM(CASE WHEN payment_status = 'failed' THEN 1 ELSE 0 END) as failed,
    SUM(CASE WHEN payment_status = 'pending' THEN 1 ELSE 0 END) as pending
FROM orders
WHERE DATE(created_at) = CURDATE();
```

## ‚ö†Ô∏è Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: Webhook –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
ls -la api/webhook/yookassa.php

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
chmod 644 api/webhook/yookassa.php

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞
tail -50 /var/log/apache2/error.log  # –∏–ª–∏ /var/log/nginx/error.log

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ firewall
iptables -L -n | grep 443
```

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ webhook URL –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –Æ–ö–∞—Å—Å–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–Ω—ã–π
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ—Ä—Ç 443 –æ—Ç–∫—Ä—ã—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: Email –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥
tail -50 logs/email.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ SMTP –≤ .env
cat .env | grep SMTP
```

**–†–µ—à–µ–Ω–∏–µ:**
- –î–ª—è Gmail: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ App Password (–Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ 2FA –≤–∫–ª—é—á–µ–Ω–∞ –≤ Gmail (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è App Password)
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π SMTP —Å–µ—Ä–≤–∏—Å (Mailgun, SendGrid)

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–ª–∞—Ç–µ–∂ –Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥
tail -50 logs/payment.log
tail -50 logs/error.log

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á–∏ –Æ–ö–∞—Å—Å—ã
cat .env | grep YOOKASSA
```

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å YOOKASSA_SHOP_ID –∏ YOOKASSA_SECRET_KEY
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ YOOKASSA_MODE=production
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –Æ–ö–∞—Å—Å–µ –≤–∫–ª—é—á–µ–Ω API –¥–æ—Å—Ç—É–ø

### –ü—Ä–æ–±–ª–µ–º–∞: Auto-login –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ cookies –≤ –±—Ä–∞—É–∑–µ—Ä–µ
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å cookie 'session_token'
```

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SITE_URL –≤ .env –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π (https://141.105.69.45)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ SSL –≤–∫–ª—é—á–µ–Ω (cookie secure flag —Ç—Ä–µ–±—É–µ—Ç HTTPS)
- –û—á–∏—Å—Ç–∏—Ç–µ cookies –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞

## üö® –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

1. **HTTPS –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω** - –Æ–ö–∞—Å—Å–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ HTTP
2. **Webhook MUST return 200** - –∏–Ω–∞—á–µ –Æ–ö–∞—Å—Å–∞ –±—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å –∑–∞–ø—Ä–æ—Å—ã
3. **Idempotency –≤–∞–∂–Ω–∞** - –∑–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö webhook
4. **Email –Ω–µ –∫—Ä–∏—Ç–∏—á–µ–Ω** - –µ—Å–ª–∏ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –ø–ª–∞—Ç–µ–∂–∏ –≤—Å—ë —Ä–∞–≤–Ω–æ —Ä–∞–±–æ—Ç–∞—é—Ç
5. **–õ–æ–≥–∏ - –≤–∞—à –¥—Ä—É–≥** - –≤—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Æ–ö–∞—Å—Å—ã

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã —Å –Æ–ö–∞—Å—Å–æ–π:
- Email: support@yookassa.ru
- –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç: https://yookassa.ru/my
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: https://yookassa.ru/developers

## ‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —á–µ–∫–ª–∏—Å—Ç

–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

- [ ] Webhook URL –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ –Æ–ö–∞—Å—Å–µ
- [ ] SMTP –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ email –ø—Ä–∏—Ö–æ–¥—è—Ç
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç–µ–∂ –ø—Ä–æ—à–µ–ª —É—Å–ø–µ—à–Ω–æ
- [ ] –õ–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] –°—Ç–∞—Ç—É—Å—ã –≤ –ë–î –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è
- [ ] Auto-login —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü—ã success/failure –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
- [ ] –ö–æ—Ä–∑–∏–Ω–∞ –æ—á–∏—â–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã
- [ ] Cabinet –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ–ø–ª–∞—á–µ–Ω–Ω—ã–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

---

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–±–æ—Ç–µ!** üéâ
